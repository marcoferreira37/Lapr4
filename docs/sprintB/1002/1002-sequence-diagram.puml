@startuml

title Register Job Opening - Sequence Diagram

autonumber
actor "Customer Manager" as M
participant AddJobOpeningUI  as UI <<UI>>
participant AddJobOpeningController as Controller <<Application>>
participant JobOpeningBuilder as JB <<Domain>>
participant JobOpening as JO <<Domain>>
database JobOpeningRepository as JRepo <<Persistence>>

activate M
activate UI

M -> UI : requests to register a job opening

UI --> M : prompts for job details (Description, Vacancies Number and Address)

M -> UI : provides job details requested

UI --> M : shows available job openings modes ( Remote, Hybrid and Onsite)

M -> UI : selects job opening mode

UI --> M : shows available job openings types (Full Time and Part Time)

M -> UI : selects job opening type

UI --> M :  prompts for job opening requirements (Title or function and Company ID)

M -> UI : provides job opening requirements

UI --> M : shows and requests confirmation for job registration

M -> UI : confirms job registration

UI -> Controller: addJobopening(description, address, mode, contractType, titleOrFunction, vacanciesNumber, companyId)

activate Controller

Controller -> JB**: create

Controller -> JRepo : nextCode()
activate JRepo

JRepo --> Controller: returns next code
deactivate JRepo

Controller -> JB: withCode(code)
activate JB

Controller -> JB: withDescription(description)
Controller -> JB: withAddress(address)
Controller -> JB: withMode(mode)
Controller -> JB: withContractType(contractType)
Controller -> JB: withTitleOrFunction(titleOrFunction)
Controller -> JB: withVacanciesNumber(vacanciesNumber)
Controller -> JB: withCompanyId(companyId)

Controller -> JB: build()

deactivate JRepo
JB -> JO**: create
JB --> Controller: returns job opening
deactivate JB



Controller -> JRepo: save(job opening)
activate JRepo

JRepo --> Controller: returns success
deactivate JRepo
Controller --> UI: returns success
deactivate Controller

UI --> M: confirms successful registration

@enduml