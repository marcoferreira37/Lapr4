@startuml

title Register Job Opening - Sequence Diagram

autonumber
actor Manager as M
participant RegisterJobOpeningUI as UI <<UI>>
participant RegisterJobOpeningController as Controller <<Application>>
participant JobOpeningBuilder as JB <<Domain>>
participant JobOpening as JO <<Domain>>
database JobOpeningRepository as JRepo <<Persistence>>


activate UI
M -> UI : enters data (code, name, description)
M -> UI : submit data


UI -> Controller: registerJobOpening(code, name, description)
activate Controller

Controller -> JB: withJobOpeningCode(code)
activate JB
Controller -> JB: withJobOpeningName(name)
Controller -> JB: withJobOpeningDescription(description)
Controller -> JB: build()

JB -> JRepo: ofIdentity(code)
activate JRepo

JRepo --> JB: returns job opening
deactivate JRepo
JB -> JO: create
JB -> Controller: returns job opening
deactivate JB



Controller -> JRepo: save(job opening)
activate JRepo

JRepo --> Controller: returns success
deactivate JRepo
Controller -> UI: returns success
deactivate Controller
UI --> M: shows success

@enduml